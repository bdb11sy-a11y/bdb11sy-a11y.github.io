<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„Ø¹Ø¨Ø§Ø¯ÙŠ â€“ Ø´Ø­Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</title>

<style>
body{
  margin:0;
  font-family:Arial;
  direction:rtl;
  background:linear-gradient(#e0f2fe,#f8fafc);
}
header{
  background:#0f172a;
  color:#fff;
  padding:12px 15px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
header .user{font-size:14px}
.logout{
  background:#dc2626;
  color:#fff;
  border:none;
  padding:6px 12px;
  border-radius:6px;
  cursor:pointer;
}
.card{
  background:#fff;
  margin:15px;
  padding:15px;
  border-radius:12px;
  box-shadow:0 5px 15px rgba(0,0,0,.1);
}
.hidden{display:none}

input,textarea,button,select{
  width:100%;
  padding:10px;
  margin-top:10px;
  font-size:15px;
}
button{
  border:none;
  border-radius:8px;
  cursor:pointer;
}
.green{background:#22c55e;color:#fff}
.orange{background:#f59e0b;color:#fff}
.red{background:#dc2626;color:#fff}

.apps{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}
.app{
  text-align:center;
  padding:10px;
  border-radius:10px;
  border:2px solid transparent;
  cursor:pointer;
}
.app img{width:45px;height:45px}
.app.active{border-color:#2563eb}

.price{
  padding:10px;
  border:1px solid #ddd;
  border-radius:8px;
  margin-top:8px;
  cursor:pointer;
}
.price.active{
  background:#2563eb;
  color:#fff;
}

#rates{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  background:#0f172a;
  color:#fff;
  text-align:center;
  padding:6px;
  font-size:14px;
}
</style>
</head>

<body>

<header>
  <div class="user" id="headerUser"></div>
  <div>Ø§Ù„Ø¹Ø¨Ø§Ø¯ÙŠ â€“ Ø´Ø­Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</div>
  <button class="logout hidden" id="logoutBtn" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</header>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div class="card" id="loginBox">
  <h3>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
  <input id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
  <input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <button class="green" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- Ø§Ù„Ø·Ù„Ø¨ -->
<div class="card hidden" id="orderBox">
  <h3 id="welcome"></h3>

  <div class="apps" id="appsBox"></div>

  <div id="prices"></div>
  <input id="userid" placeholder="ID Ø§Ù„Ø­Ø³Ø§Ø¨">

  <button class="green" onclick="sendOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
  <button class="orange" onclick="sendNote()">Ø¥Ø±Ø³Ø§Ù„ Ù…Ù„Ø§Ø­Ø¸Ø©</button>

  <a href="https://wa.me/905396956440">
    <button class="green">ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨</button>
  </a>
</div>

<!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† -->
<div class="card hidden" id="adminBox">
  <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
  <input id="newUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
  <input id="newPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <button class="green" onclick="addUser()">Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù…</button>
  <div id="usersList"></div>
</div>

<!-- ğŸ”¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª -->
<div class="card hidden" id="appsAdminBox">
  <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</h3>

  <input id="appName" placeholder="Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (small letters)">
  <input id="appImage" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚">
  <textarea id="appPrices" placeholder="ÙƒÙ„ Ø³Ø¹Ø± Ø¨Ø³Ø·Ø±"></textarea>

  <button class="green" onclick="saveApp()">Ø­ÙØ¸ / ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</button>

  <select id="deleteAppSelect"></select>
  <button class="red" onclick="deleteApp()">Ø­Ø°Ù Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</button>
</div>

<div id="rates">
  ğŸ’µ USD: 32.50 TL | ğŸ’¶ EUR: 35.20 TL
</div>

<script>
/* ===== ØªÙ„ØºØ±Ø§Ù… ===== */
const BOT_TOKEN = "PUT_YOUR_TOKEN_HERE";
const CHAT_ID  = "154287241";

/* ===== Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ===== */
let users = JSON.parse(localStorage.getItem("users")) || {
  abnabbad:{password:"199511",role:"admin"}
};
localStorage.setItem("users",JSON.stringify(users));

/* ===== Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª + Ø§Ù„Ø£Ø³Ø¹Ø§Ø± (Ø¯Ù…Ø¬ Ù…Ùˆ Ø§Ø³ØªØ¨Ø¯Ø§Ù„) ===== */
let appsData = JSON.parse(localStorage.getItem("appsData")) || {
  likee:{img:"likee.jpg",prices:[
    "1000ğŸ’ â€“ 950TL","1500ğŸ’ â€“ 1375TL","2000ğŸ’ â€“ 1850TL",
    "3000ğŸ’ â€“ 2900TL","4000ğŸ’ â€“ 3750TL","5000ğŸ’ â€“ 4700TL"
  ]},
  yahlan:{img:"yahlan.jpg",prices:[
    "1000ğŸ’ â€“ 125TL","2000ğŸ’ â€“ 225TL","5000ğŸ’ â€“ 475TL",
    "10000ğŸ’ â€“ 950TL","20000ğŸ’ â€“ 1850TL","50000ğŸ’ â€“ 4850TL"
  ]},
  "4fun":{img:"4fun.jpg",prices:[
    "300KğŸ’ â€“ 950TL","500KğŸ’ â€“ 1700TL",
    "600KğŸ’ â€“ 1850TL","1MğŸ’ â€“ 3200TL","1.5MğŸ’ â€“ 4650TL"
  ]},
  jawaker:{img:"jawaker.jpg",prices:[
    "10KğŸª™ â€“ 100TL","20KğŸª™ â€“ 175TL","25KğŸª™ â€“ 200TL",
    "30KğŸª™ â€“ 250TL","50KğŸª™ â€“ 350TL","70KğŸª™ â€“ 500TL",
    "100KğŸª™ â€“ 650TL","200KğŸª™ â€“ 1250TL",
    "300KğŸª™ â€“ 1850TL","500KğŸª™ â€“ 3000TL","1MğŸª™ â€“ 5300TL"
  ]}
};
localStorage.setItem("appsData",JSON.stringify(appsData));

let currentUser="",selectedApp="",selectedPrice="";

/* ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
function login(){
  if(!users[username.value] || users[username.value].password!==password.value){
    alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©");return;
  }
  localStorage.setItem("loggedUser",username.value);
  location.reload();
}

/* ØªØ­Ù…ÙŠÙ„ */
window.onload=()=>{
  const u=localStorage.getItem("loggedUser");
  if(u){
    currentUser=u;
    loginBox.classList.add("hidden");
    orderBox.classList.remove("hidden");
    logoutBtn.classList.remove("hidden");
    headerUser.innerText="Ù…Ø±Ø­Ø¨Ø§Ù‹ "+u;
    welcome.innerText="Ù…Ø±Ø­Ø¨Ø§Ù‹ "+u;
    loadApps();
    if(users[u].role==="admin"){
      adminBox.classList.remove("hidden");
      appsAdminBox.classList.remove("hidden");
      loadUsers();
      loadDeleteApps();
    }
  }
};

function logout(){
  localStorage.removeItem("loggedUser");
  location.reload();
}

/* ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª */
function loadApps(){
  appsBox.innerHTML="";
  Object.keys(appsData).forEach(a=>{
    appsBox.innerHTML+=`
    <div class="app" onclick="selectApp('${a}',this)">
      <img src="${appsData[a].img}">
      <div>${a}</div>
    </div>`;
  });
}

function selectApp(app,el){
  selectedApp=app;selectedPrice="";
  document.querySelectorAll(".app").forEach(a=>a.classList.remove("active"));
  el.classList.add("active");
  prices.innerHTML="";
  appsData[app].prices.forEach(p=>{
    let d=document.createElement("div");
    d.className="price";
    d.innerText=p;
    d.onclick=()=>{document.querySelectorAll(".price").forEach(x=>x.classList.remove("active"));d.classList.add("active");selectedPrice=p;};
    prices.appendChild(d);
  });
}

/* Ø¥Ø±Ø³Ø§Ù„ */
function sendOrder(){
  if(!selectedApp||!selectedPrice||!userid.value){alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");return;}
  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(
    "Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯\n"+currentUser+"\n"+selectedApp+"\n"+selectedPrice+"\nID:"+userid.value
  )}`);
  alert("ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„");
}

function sendNote(){
  let n=prompt("Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©");
  if(!n)return;
  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(n)}`);
  alert("ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„");
}

/* Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª */
function saveApp(){
  const name=appName.value.toLowerCase();
  if(!name)return alert("Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚");
  appsData[name]={img:appImage.value,prices:appPrices.value.split("\n")};
  localStorage.setItem("appsData",JSON.stringify(appsData));
  loadApps();loadDeleteApps();
  alert("ØªÙ… Ø§Ù„Ø­ÙØ¸");
}

function loadDeleteApps(){
  deleteAppSelect.innerHTML="";
  Object.keys(appsData).forEach(a=>{
    deleteAppSelect.innerHTML+=`<option value="${a}">${a}</option>`;
  });
}
function deleteApp(){
  delete appsData[deleteAppSelect.value];
  localStorage.setItem("appsData",JSON.stringify(appsData));
  loadApps();loadDeleteApps();
}
</script>

</body>
</html>
