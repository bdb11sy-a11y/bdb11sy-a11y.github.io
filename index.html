<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„Ø¹Ø¨Ø§Ø¯ÙŠ â€“ Ø´Ø­Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</title>

<style>
/* === Ù†ÙØ³ Ø§Ù„Ø³ØªØ§ÙŠÙ„ ØªØ¨Ø¹Ùƒ Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± === */
body{margin:0;font-family:Arial;direction:rtl;background:linear-gradient(#e0f2fe,#f8fafc);}
header{background:#0f172a;color:#fff;padding:12px 15px;display:flex;justify-content:space-between;align-items:center;}
header .user{font-size:14px}
.logout{background:#dc2626;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;}
.card{background:#fff;margin:15px;padding:15px;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,.1);}
.hidden{display:none}
input,button{width:100%;padding:10px;margin-top:10px;font-size:15px;}
button{border:none;border-radius:8px;cursor:pointer;}
.green{background:#22c55e;color:#fff}
.orange{background:#f59e0b;color:#fff}
.red{background:#dc2626;color:#fff}
.apps{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;}
.app{text-align:center;padding:10px;border-radius:10px;border:2px solid transparent;cursor:pointer;}
.app img{width:45px;height:45px}
.app.active{border-color:#2563eb}
.price{padding:10px;border:1px solid #ddd;border-radius:8px;margin-top:8px;cursor:pointer;}
.price.active{background:#2563eb;color:#fff}
#rates{position:fixed;bottom:0;left:0;right:0;background:#0f172a;color:#fff;text-align:center;padding:6px;font-size:14px;}
.admin-tools{border-top:1px dashed #ccc;margin-top:15px;padding-top:10px}
</style>
</head>

<body>

<header>
  <div class="user" id="headerUser"></div>
  <div>Ø§Ù„Ø¹Ø¨Ø§Ø¯ÙŠ â€“ Ø´Ø­Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</div>
  <button class="logout hidden" id="logoutBtn" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</header>

<div class="card" id="loginBox">
  <h3>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
  <input id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
  <input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <button class="green" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<div class="card hidden" id="orderBox">
  <h3 id="welcome"></h3>
  <div class="apps" id="appsContainer"></div>
  <div id="prices"></div>
  <input id="userid" placeholder="ID Ø§Ù„Ø­Ø³Ø§Ø¨">
  <button class="green" onclick="sendOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
  <button class="orange" onclick="sendNote()">Ø¥Ø±Ø³Ø§Ù„ Ù…Ù„Ø§Ø­Ø¸Ø©</button>
  <a href="https://wa.me/905396956440"><button class="green">ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨</button></a>
</div>

<div class="card hidden" id="adminBox">
  <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
  <input id="newUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
  <input id="newPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <button class="green" onclick="addUser()">Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù…</button>
  <div id="usersList"></div>

  <div class="admin-tools">
    <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</h3>
    <input id="appName" placeholder="Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (EN)">
    <input id="appImg" placeholder="Ø§Ø³Ù… Ø§Ù„ØµÙˆØ±Ø© Ù…Ø«Ù„ likee.jpg">
    <button class="green" onclick="addApp()">Ø¥Ø¶Ø§ÙØ© / ØªØ­Ø¯ÙŠØ« ØªØ·Ø¨ÙŠÙ‚</button>

    <h3>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</h3>
    <input id="priceText" placeholder="Ù…Ø«Ø§Ù„: 1000ğŸ’ â€“ 950TL">
    <button class="orange" onclick="addPrice()">Ø¥Ø¶Ø§ÙØ© Ø³Ø¹Ø± Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø­Ø¯Ø¯</button>
  </div>
</div>

<div id="rates">ğŸ’µ USD: 32.50 TL | ğŸ’¶ EUR: 35.20 TL</div>

<script>
/* ===== ØªÙˆÙƒÙ† ===== */
const BOT_TOKEN="PUT_YOUR_TOKEN_HERE";
const CHAT_ID="154287241";

/* ===== Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ===== */
let users=JSON.parse(localStorage.getItem("users"))||{abnabbad:{password:"199511",role:"admin"}};
localStorage.setItem("users",JSON.stringify(users));

/* ===== Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª + Ø§Ù„Ø£Ø³Ø¹Ø§Ø± (Ø¯Ù…Ø¬ Ø¨Ø¯ÙˆÙ† Ø­Ø°Ù) ===== */
const DEFAULT_APPS={
 likee:{img:"likee.jpg",prices:["1000ğŸ’ â€“ 950TL","1500ğŸ’ â€“ 1375TL","2000ğŸ’ â€“ 1850TL","3000ğŸ’ â€“ 2900TL","4000ğŸ’ â€“ 3750TL","5000ğŸ’ â€“ 4700TL"]},
 yahlan:{img:"yahlan.jpg",prices:["1000ğŸ’ â€“ 125TL","2000ğŸ’ â€“ 225TL","5000ğŸ’ â€“ 475TL","10000ğŸ’ â€“ 950TL","20000ğŸ’ â€“ 1850TL","50000ğŸ’ â€“ 4850TL"]},
 "4fun":{img:"4fun.jpg",prices:["300KğŸ’ â€“ 950TL","500KğŸ’ â€“ 1700TL","600KğŸ’ â€“ 1850TL","1MğŸ’ â€“ 3200TL","1.5MğŸ’ â€“ 4650TL"]},
 jawaker:{img:"jawaker.jpg",prices:["10KğŸª™ â€“ 100TL","20KğŸª™ â€“ 175TL","25KğŸª™ â€“ 200TL","30KğŸª™ â€“ 250TL","50KğŸª™ â€“ 350TL","70KğŸª™ â€“ 500TL","100KğŸª™ â€“ 650TL","200KğŸª™ â€“ 1250TL","300KğŸª™ â€“ 1850TL","500KğŸª™ â€“ 3000TL","1MğŸª™ â€“ 5300TL"]}
};

let appsData=JSON.parse(localStorage.getItem("appsData"))||DEFAULT_APPS;
localStorage.setItem("appsData",JSON.stringify(appsData));

let currentUser="",selectedApp="",selectedPrice="";

/* ===== Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù„ (Ø¯Ø®ÙˆÙ„ â€“ Ø¹Ø±Ø¶ â€“ Ø¥Ø±Ø³Ø§Ù„) ===== */
function login(){
 if(!users[username.value]||users[username.value].password!==password.value)return alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©");
 localStorage.setItem("loggedUser",username.value);location.reload();
}
window.onload=()=>{
 const u=localStorage.getItem("loggedUser");
 if(!u)return;
 currentUser=u;
 loginBox.classList.add("hidden");
 orderBox.classList.remove("hidden");
 logoutBtn.classList.remove("hidden");
 headerUser.innerText="Ù…Ø±Ø­Ø¨Ø§Ù‹ "+u;
 welcome.innerText="Ù…Ø±Ø­Ø¨Ø§Ù‹ "+u;
 renderApps();
 if(users[u].role==="admin"){adminBox.classList.remove("hidden");loadUsers();}
}
function logout(){localStorage.removeItem("loggedUser");location.reload();}

function renderApps(){
 appsContainer.innerHTML="";
 Object.keys(appsData).forEach(a=>{
  let d=document.createElement("div");
  d.className="app";
  d.innerHTML=`<img src="${appsData[a].img}"><div>${a}</div>`;
  d.onclick=()=>selectApp(a,d);
  appsContainer.appendChild(d);
 });
}

function selectApp(a,el){
 selectedApp=a;selectedPrice="";
 document.querySelectorAll(".app").forEach(x=>x.classList.remove("active"));
 el.classList.add("active");
 prices.innerHTML="";
 appsData[a].prices.forEach(p=>{
  let d=document.createElement("div");
  d.className="price";d.innerText=p;
  d.onclick=()=>{document.querySelectorAll(".price").forEach(x=>x.classList.remove("active"));d.classList.add("active");selectedPrice=p;}
  prices.appendChild(d);
 });
}

/* ===== Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø£Ø¯Ù…Ù† ===== */
function addApp(){
 if(!appName.value||!appImg.value)return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
 if(!appsData[appName.value])appsData[appName.value]={img:appImg.value,prices:[]};
 else appsData[appName.value].img=appImg.value;
 localStorage.setItem("appsData",JSON.stringify(appsData));
 renderApps();alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚");
}
function addPrice(){
 if(!selectedApp||!priceText.value)return alert("Ø§Ø®ØªØ± ØªØ·Ø¨ÙŠÙ‚");
 appsData[selectedApp].prices.push(priceText.value);
 localStorage.setItem("appsData",JSON.stringify(appsData));
 selectApp(selectedApp,document.querySelector(".app.active"));
 priceText.value="";
}

/* ===== Ø¥Ø±Ø³Ø§Ù„ ===== */
function sendOrder(){
 if(!selectedApp||!selectedPrice||!userid.value)return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
 fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent("Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯\n"+selectedApp+"\n"+selectedPrice+"\nID:"+userid.value)}`);
 alert("ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„");
}
function sendNote(){
 let n=prompt("Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©");if(!n)return;
 fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent("Ù…Ù„Ø§Ø­Ø¸Ø©:\n"+n)}`);
 alert("ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„");
}
function addUser(){
 if(!newUser.value||!newPass.value)return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
 users[newUser.value]={password:newPass.value,role:"user"};
 localStorage.setItem("users",JSON.stringify(users));loadUsers();
}
function loadUsers(){
 usersList.innerHTML="";
 Object.keys(users).forEach(u=>{if(u==="abnabbad")return;
 usersList.innerHTML+=`${u} <button class="red" onclick="delete users['${u}'];localStorage.setItem('users',JSON.stringify(users));loadUsers()">Ø­Ø°Ù</button><br>`});
}
</script>

</body>
</html>
